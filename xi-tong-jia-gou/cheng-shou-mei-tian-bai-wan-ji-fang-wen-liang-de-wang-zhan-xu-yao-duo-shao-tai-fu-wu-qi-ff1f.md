之前了解了一下国内某团购网站的架构，其中提到了服务器硬件和 pv 以及 qps 的一些关系。

百万级别的访问量，应该指的是 PV 吧。

**并发数计算 PV 的粗算计算公式是**

qps（或并发数） x 86400（秒）÷ 2 （分昼夜）

所以 PV 100万 粗算来并发数只有 23 。

按照经验，剥离图片和js，css 等静态页面，纯动态内容。一台 4 核 4G 内存的机器可以抗住 100左右的并发数。

* 百万 pv 小网站的 并发只有 23. 1000000 ÷ 86400 x 2 = 23
* 4核 4G，能抗住100左右的并发， 日 五百万级别的 pv 了。

**服务器资源的消耗主要是后端程序这一块**，例如 tomcat 或 php 等其他需要链接数据库的程序，还有些需要编译的内容。所以这个公式只能是粗算，因为提供的服务大家各不相同。

概念：

**QPS = req/sec = 请求数/秒**

qps 是 new 的请求，叫每秒新建链接数， 很多连接进来的链接，已经 tcp 三次握手的完成内容交互之后的，没有超过 tcp 的断开时间，虽然是活动状态，但是已经基本不消耗服务器资源了， 这种是最大活动链接数， 每台机器65535个链接数，这个链接数基本不考虑。

**PV = Page View**

pv 是指页面被浏览的次数，比如你打开一网页，那么这个网站的pv就算加了一次。



> [https://www.zhihu.com/question/19684274](#)
>
> 链接：[https://www.zhihu.com/question/19684274/answer/162821960](https://www.zhihu.com/question/19684274/answer/162821960)



