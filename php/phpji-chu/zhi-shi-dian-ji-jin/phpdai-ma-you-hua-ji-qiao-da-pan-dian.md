PHP优化的目的是花最少的代价换来最快的运行速度与最容易维护的代码。本文给大家提供全面的优化技巧。

1. **echo比print快**。

2. **使用echo的多重参数**代替字符串连接。（echo 比 print 快，并且使用echo的多重参数（译注：指用逗号而不是句点）代替字符串连接，比如echo $str1,$str2。）

3. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值，最好运用foreach代替。

4. 对global变量，应该**用完就unset\(\)掉**。

5. 用**单引号代替双引号**来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。

6. 函数代替正则表达式完成相同功能。

7. str\_replace函数比preg\_replace函数快，但strtr函数的效率是str\_replace函数的四倍。

8. 当执行变量$i的递增或递减时，**$i++会比++$i慢一些**。这种差异是PHP特有的，并不适用于其他语言，++$i更快是因为它只需要3条指令\(opcodes\)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。

9. 使用选择分支语句（**switch** case）**好于**使用多个**if，else if**语句。

10. 利用var\_dump进行PHP代码调试。如果你在寻找php调试技术，我必须说var\_dump应该是你要找的目标，在显示php信息方面这个命令可以满足你的所有需要，而调试代码的多数情况与得到PHP中的数值有关。

11. 在**包含文件时使用完整路径**，解析操作系统路径所需的时间会更少。

12. 动辄创建全局数值是一种糟糕的做法，不过有时候实际情况的确又需要这么做。对于数据库表或数据库连接信息使用全局数值是一个不错的想法，但不要在你的PHP代码中频繁使用全局数值。另外，更好的一种做法是把你的全局变量存放在一个config.php文件中。

13. 如果你想知道**脚本开始执行的时刻，使用$\_SERVER\[‘REQUEST\_TIME’\]**要好于time\(\)。

14. 打开apache的mod\_deflate模块（可以提高网页的浏览速度）。

15. 用@屏蔽错误消息的做法非常低效。

16. 尽量采用大量的PHP内置函数。

17. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。

18. > 递增一个全局变量要比递增一个局部变量慢2倍。
19. 派生类中的方法运行起来要快于在基类中定义的同样的方法。

20. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）

21. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。

22. 正如之前提到的，任何php网站中最重要的部分有99%的可能是数据库。因此，你需要非常熟悉如何正确的使用sql，学会关联表和更多高级的数据库技术。

23. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。

24. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen\(\)函数。此函数执行起来相当快，因为它不做任何计算，只返回zval结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。

25. 并不是所有情况都必须使用面向对象开发，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。

26. 除非脚本可以缓存，否则每次调用时都会重新编译一次。**引入一套PHP缓存机制**通常可以提升25%至100%的性能，以免除编译开销。

27. 如果能将**类的方法定义成static**，就尽量定义成static，它的**速度会提升将近4倍**。

28. $row\[’id’\] 的速度是$row\[id\]的7倍。

29. 注销那些不用的变量尤其是大数组，以便释放内存。

30. 尽量避免使用\_\_get，\_\_set，\_\_autoload。

31. require\_once\(\)代价昂贵。

32. 数据库连接当使用完毕时应关掉，不要用长连接。

33. 错误消息代价昂贵。

> 文章摘自：
>
> [https://www.oudahe.com/p/154/](https://www.oudahe.com/p/154/)
>
> [https://www.oudahe.com/p/95/](https://www.oudahe.com/p/95/)



